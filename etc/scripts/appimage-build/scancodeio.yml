app: scancodeio

ingredients:
  dist: bionic
  sources:
    - deb http://us.archive.ubuntu.com/ubuntu/ bionic main universe
    - deb http://us.archive.ubuntu.com/ubuntu/ bionic-updates main universe
    - deb http://us.archive.ubuntu.com/ubuntu/ bionic-security main universe
  packages:
    - bzip2
    - xz-utils
    - zlib1g
    - libxml2-dev
    - libxslt1-dev
    - libpopt0
    - build-essential
    - libssl-dev
    - libpq-dev
    - libgpgme11
    - libdevmapper1.02.1
    - libguestfs-tools
  script:
    - cd .. && make envfile && mv .env scancodeio && cd scancodeio

script:
  - env
  - cp -r ../../python3.10.AppDir/usr/. usr
  - cp -r ../../python3.10.AppDir/opt .
  - cp ../.env opt/scancodeio/
  - cp ../../resources/python.png .
  - cp ../../resources/scancodeio.desktop .
  - cp ../../resources/python3.10 usr/bin
  - cp ../../resources/scancodeio.desktop usr/share/applications/scancodeio.desktop
